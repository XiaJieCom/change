server {
        listen 80;
        server_name caigou.shangtengwang.com www.tcgys.com.cn;
#        server_name weihu.shangtengwang.com
        access_log logs/access.log main;
        error_log  logs/error.log crit;
        location /api/ {
        proxy_pass http://api1;
        proxy_redirect off;
        proxy_store off;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header Host $http_host;
        }
        location /AccountHost/ {
        proxy_pass http://api1;
        proxy_redirect off;
        proxy_store off;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header Host $http_host;
        }
        location /fileserver/ {
        proxy_pass http://api2;
        proxy_redirect off;
        proxy_store off;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header Host $http_host;
        }
        location /newsms/ {
        proxy_pass http://api1;
        proxy_redirect off;
        proxy_store off;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Real-IP $remote_addr;
		proxy_set_header Host $http_host;
        }
        location /SCMHost/ {
        proxy_pass http://api1;
        proxy_redirect off;
        proxy_store off;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header Host $http_host;
        }
        location /WebHost/ {
        proxy_pass http://api1;
        proxy_redirect off;
        proxy_store off;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header Host $http_host;
        }

        location ~ .*\.(html|htm|gif|jpg|jpeg|bmp|png|ico|txt|js|css|json|woff|woff2|ttf|xls|apk|ipa)$
    {
    root /file/static/web/;
#    proxy_cache cache_one;
#    proxy_cache_key $host$uri$is_args;
#    expires      1d;
    }

        error_page 404 500 502 503 504 /error.html;
        location = /error.html {
        root html;
        }
        location = /contBanBgCon.png {
        root html;
        }
        location = /contentBannerBG.png {
        root html;
		}
        }
#mobile
server {
        listen 80;
        server_name mobile.shangtengwang.com;
#       server_name weihumobile.sahngtengwang.com
        access_log logs/mobile_access.log main;
        error_log  logs/mobile_error.log crit;
        location /api/ {
        proxy_pass http://api1;
        proxy_redirect off;
        proxy_store off;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header Host $http_host;
        }
        location /AccountHost/ {
        proxy_pass http://api1;
        proxy_redirect off;
        proxy_store off;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header Host $http_host;
        }
        location /fileserver/ {
        proxy_pass http://api2;
        proxy_redirect off;
        proxy_store off;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header Host $http_host;
        }
        location /newsms/ {
        proxy_pass http://api1;
        proxy_redirect off;
        proxy_store off;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
		proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header Host $http_host;
        }
        location /SCMHost/ {
        proxy_pass http://api1;
        proxy_redirect off;
        proxy_store off;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header Host $http_host;
        }
        location /WebHost/ {
        proxy_pass http://api1;
        proxy_redirect off;
        proxy_store off;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header Host $http_host;
        }

        location ~ .*\.(html|htm|gif|jpg|jpeg|bmp|png|ico|txt|js|css|json|woff|woff2|ttf|xls)$
    {
    root /file/static/mobile/;
#    proxy_cache cache_one;
#    proxy_cache_key $host$uri$is_args;
#    expires      1d;
    }
        error_page 404 500 502 503 504 /error.html;
        location = /error.html {
        root html;
        }
        location = /contBanBgCon.png {
        root html;
        }
        location = /contentBannerBG.png {
        root html;
		}
        }